"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var a;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,s,n=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);l=!0);}catch(e){i=!0,s=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var advantagesSliders=Array.from(document.querySelectorAll(".advantagesSlider")),activeSlides={product:0,package:0},slidesCountObj={},buttonActivatorArr=Array.from(document.querySelectorAll(".advantagesButtons"));function advantagesSliderFill(e,t,a){for(var r=1;r<=t;r++){var s=document.createElement("div"),n=(s.classList.toggle("advantages-slide"),document.createElement("img"));n.classList.toggle("advantages-slide__img"),n.alt="Slider content: image",n.src="img/advantages/".concat(a,"/_").concat(r,".png"),s.append(n),e.append(s)}var l=e.dataset.slider;toggleClasses(Array.from(e.children),activeSlides[l]-1,!0)}function toggleClasses(e,t,a){for(a?t+=1:--t;t>e.length-1;)t-=e.length;for(;t<0;)t+=e.length;return e.forEach(function(e){return e.classList.remove("advantages-slide__first","advantages-slide__second","advantages-slide__third")}),t==e.length-2?(e[0].classList.toggle("advantages-slide__third"),e[t].classList.toggle("advantages-slide__first"),e[t+1].classList.toggle("advantages-slide__second")):(t==e.length-1&&(e[0].classList.toggle("advantages-slide__second"),e[1].classList.toggle("advantages-slide__third"),e[t].classList.toggle("advantages-slide__first")),t<e.length-1&&(e[t].classList.toggle("advantages-slide__first"),e[t+1].classList.toggle("advantages-slide__second"),e[t+2].classList.toggle("advantages-slide__third"))),t}function textFill(e){var t=_slicedToArray(Array.from(e.children),2),a=t[0],t=t[1],e=e.dataset.slider;a.innerHTML=activeSlides[e]+1,t.innerHTML=slidesCountObj[e]}function addMoveEvent(s){var n=document.querySelector(".advantages-slider[data-slider=".concat(s.dataset.slider,"]")),l=n.dataset.slider,t=(s.addEventListener("click",function(e){var t=_slicedToArray(Array.from(s.children),3),a=t[0],t=(t[1],t[2]),r=Array.from(n.children);e.target===t&&(activeSlides[l]=toggleClasses(r,activeSlides[l],!0),textFill(document.querySelector("p[data-slider=".concat(l,"]")))),e.target===a&&(activeSlides[l]=toggleClasses(r,activeSlides[l],!1),textFill(document.querySelector("p[data-slider=".concat(l,"]"))))}),0);n.addEventListener("touchstart",function(e){swipeStart=parseInt(e.changedTouches[0].pageX)},!1),n.addEventListener("touchmove",function(e){t=swipeStart-parseInt(e.changedTouches[0].pageX)},!1),n.addEventListener("touchend",function(){var e=Array.from(n.children);100<t&&(activeSlides[l]=toggleClasses(e,activeSlides[l],!0)),t<100&&100<Math.abs(t)&&(activeSlides[l]=toggleClasses(e,activeSlides[l],!1)),textFill(document.querySelector("p[data-slider=".concat(l,"]"))),swipeStart=t=0},!1)}buttonActivatorArr.forEach(function(e){return addMoveEvent(e)}),advantagesSliders.forEach(function(e){var t=+e.dataset.sliders,a=e.dataset.slider;advantagesSliderFill(e,slidesCountObj[a]=t,a),textFill(document.querySelector("p[data-slider=".concat(a,"]")))});